language: node_js
node_js:
  - 8.5.0
script:
  - "npm run lint"
  - "npm run test"
cache:
  - node_modules
before_script:
  - bundle exec rake db:create
  - bundle exec rake db:migrate
  - bundle exec rake assets:precompile
deploy:
  provider: heroku
  api_key:
    secure: "YOUR ENCRYPTED API KEY"
  app: rails-test-app-article
  on:
    repo: felipeluizsoares/rails-test-app
  
# blocklist
branches:
  except:
  - legacy
  - experimental

# safelist
branches:
  only:
  - master
  - stable